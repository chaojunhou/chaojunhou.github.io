<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="google-site-verification" content="fdZTDVFyX3hKovPIzn1tgPixk_wysBXaPN8YQw1P8Jw" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="ChaoJun Hou" />
        <meta name="copyright" content="ChaoJun Hou" />

<meta name="keywords" content="工作, 计算机科学, " />

<meta property="og:title" content="面试准备 "/>
<meta property="og:url" content="../../../../../blog/2014/03/18/job_interview/" />
<meta property="og:description" content="写一个String 类 #include &lt;utility&gt; #include &lt;string.h&gt; class String { public: String() : data_(new char[1]) { *data_ = &#39;\0&#39;; } String(const char* str) : data_(new char[strlen(str) + 1]) { strcpy(data_, str); } String(const String&amp; rhs) : data_(new char[rhs.size() + 1]) { strcpy(data_, rhs.c_str()); } /* Delegate constructor in C++11 String ..." />
<meta property="og:site_name" content="Write the Code" />
<meta property="og:article:author" content="ChaoJun Hou" />
<meta property="og:article:published_time" content="2014-03-18T11:20:00+08:00" />
<meta name="twitter:title" content="面试准备 ">
<meta name="twitter:description" content="写一个String 类 #include &lt;utility&gt; #include &lt;string.h&gt; class String { public: String() : data_(new char[1]) { *data_ = &#39;\0&#39;; } String(const char* str) : data_(new char[strlen(str) + 1]) { strcpy(data_, str); } String(const String&amp; rhs) : data_(new char[rhs.size() + 1]) { strcpy(data_, rhs.c_str()); } /* Delegate constructor in C++11 String ...">

        <title>面试准备  · Change the World | Write the Code
</title>
       
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../../../../../theme/css/style.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../../../../../theme/css/solarizedlight.css" media="screen">
        <link rel="shortcut icon" href="../../../../../theme/images/favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="../../../../../theme/images/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57" href="../../../../../theme/images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="../../../../../theme/images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="../../../../../theme/images/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="144x144" href="../../../../../theme/images/apple-touch-icon-144x144.png" />
        <link rel="icon" href="../../../../../theme/images/apple-touch-icon-144x144.png" />
        <link href="www.houcj.net/feed.xml" type="application/rss+xml" rel="alternate" title="Write the Code - Full RSS Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '61957498', 'auto');
    ga('send', 'pageview');
</script>

    </head>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61957498-1', 'auto');
  ga('send', 'pageview');
	</script>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="../../../../../"><span class=site-name>Write the Code</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="../../../../..">Home</a></li>
                            <li ><a href="../../../../../pages/About.html">About</a></li>
                            <li ><a href="../../../../../random.html">Pick One!</a></li>
                            <li ><a href="../../../../../categories.html">分类</a></li>
                            <li ><a href="../../../../../tags.html">标签</a></li>
                            <li ><a href="../../../../../archives.html">归档</a></li>
                            <li><form class="navbar-search" action="../../../../../search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page_header span10 offset2">
    <h1><a href="../../../../../blog/2014/03/18/job_interview/"> 面试准备  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div id="toc"><ul><li><a class="toc-href" href="#" title="面试准备">面试准备</a><ul><li><a class="toc-href" href="#string" title="写一个String 类">写一个String 类</a></li><li><a class="toc-href" href="#kurl" title="从一个文件中找到出现频率最高的k个单词（url）">从一个文件中找到出现频率最高的k个单词（url）</a></li><li><a class="toc-href" href="#cppcondition" title="CPP使用condition实现线程安全的阻塞队列">CPP使用condition实现线程安全的阻塞队列</a></li><li><a class="toc-href" href="#_1" title="写一个智能指针类">写一个智能指针类</a></li><li><a class="toc-href" href="#merge-k-sorted-list" title="merge K sorted List">merge K sorted List</a></li><li><a class="toc-href" href="#_2" title="实现一个内存池">实现一个内存池</a></li><li><a class="toc-href" href="#_3" title="排列问题">排列问题</a></li><li><a class="toc-href" href="#_4" title="组合问题">组合问题</a><ul><li><a class="toc-href" href="#select-k-from-n" title="select k from n">select k from n</a></li><li><a class="toc-href" href="#combination-sum" title="combination sum">combination sum</a></li></ul></li><li><a class="toc-href" href="#_6" title="二分查找">二分查找</a><ul><li><a class="toc-href" href="#find-the-peak" title="find the peak">find the peak</a></li><li><a class="toc-href" href="#k" title="数组的第K大元素">数组的第K大元素</a></li><li><a class="toc-href" href="#_7" title="旋转有序数组的最小元素">旋转有序数组的最小元素</a></li></ul></li><li><a class="toc-href" href="#_9" title="二叉树">二叉树</a><ul><li><a class="toc-href" href="#lca" title="LCA">LCA</a></li><li><a class="toc-href" href="#bst" title="有效BST">有效BST</a></li><li><a class="toc-href" href="#tobst" title="排序链表toBST">排序链表toBST</a></li><li><a class="toc-href" href="#_10" title="层次遍历">层次遍历</a></li><li><a class="toc-href" href="#bstk" title="BST中第K个最小元素">BST中第K个最小元素</a></li><li><a class="toc-href" href="#bst_1" title="BST迭代器">BST迭代器</a></li><li><a class="toc-href" href="#_11" title="把二叉树转化为链表">把二叉树转化为链表</a></li></ul></li><li><a class="toc-href" href="#_13" title="链表">链表</a><ul><li><a class="toc-href" href="#_14" title="反转链表">反转链表</a></li><li><a class="toc-href" href="#k-group" title="K-group 反转链表">K-group 反转链表</a></li><li><a class="toc-href" href="#_15" title="旋转链表">旋转链表</a></li><li><a class="toc-href" href="#copy-linked-list-with-random-pointer" title="copy linked list with random pointer">copy linked list with random pointer</a></li></ul></li><li><a class="toc-href" href="#_17" title="括号">括号</a><ul><li><a class="toc-href" href="#_18" title="最长有效括号">最长有效括号</a></li></ul></li><li><a class="toc-href" href="#_20" title="包含重复数字">包含重复数字</a></li><li><a class="toc-href" href="#_21" title="排序">排序</a><ul><li><a class="toc-href" href="#_22" title="最大数字">最大数字</a></li><li><a class="toc-href" href="#_23" title="快排">快排</a></li></ul></li><li><a class="toc-href" href="#_25" title="动态规划">动态规划</a><ul><li><a class="toc-href" href="#decode-ways" title="decode ways">decode ways</a></li><li><a class="toc-href" href="#_26" title="回文串分割">回文串分割</a></li><li><a class="toc-href" href="#distinct-subsequences" title="Distinct Subsequences">Distinct Subsequences</a></li><li><a class="toc-href" href="#_27" title="最大子数组成积">最大子数组成积</a></li></ul></li><li><a class="toc-href" href="#_29" title="回溯">回溯</a><ul><li><a class="toc-href" href="#ip" title="重新存储IP地址">重新存储IP地址</a></li><li><a class="toc-href" href="#path-sum-ii" title="Path Sum II">Path Sum II</a></li></ul></li><li><a class="toc-href" href="#_31" title="字符串">字符串</a><ul><li><a class="toc-href" href="#_32" title="最长回文串">最长回文串</a></li><li><a class="toc-href" href="#_33" title="最长包含非重复字符的子串">最长包含非重复字符的子串</a></li><li><a class="toc-href" href="#reverse-words-in-a-string" title="reverse words in a string">reverse words in a string</a></li></ul></li></ul></li></ul></div>
        </nav>
    </div>
    <div class="span8 article-content">

            <hr/>
<h3 id="string">写一个String 类</h3>
<div class="highlight"><pre><span class="code-line"><span class="cp">#include &lt;utility&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;string.h&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">class</span> <span class="nc">String</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line"> <span class="k">public</span><span class="o">:</span></span>
<span class="code-line">  <span class="n">String</span><span class="p">()</span></span>
<span class="code-line">    <span class="o">:</span> <span class="n">data_</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="o">*</span><span class="n">data_</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="n">String</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="p">)</span></span>
<span class="code-line">    <span class="o">:</span> <span class="n">data_</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">strcpy</span><span class="p">(</span><span class="n">data_</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="n">String</span><span class="p">(</span><span class="k">const</span> <span class="n">String</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span></span>
<span class="code-line">    <span class="o">:</span> <span class="n">data_</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">rhs</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">strcpy</span><span class="p">(</span><span class="n">data_</span><span class="p">,</span> <span class="n">rhs</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line">  <span class="cm">/* Delegate constructor in C++11</span></span>
<span class="code-line"><span class="cm">  String(const String&amp; rhs)</span></span>
<span class="code-line"><span class="cm">    : String(rhs.data_)</span></span>
<span class="code-line"><span class="cm">  {</span></span>
<span class="code-line"><span class="cm">  }</span></span>
<span class="code-line"><span class="cm">  */</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="o">~</span><span class="n">String</span><span class="p">()</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="k">delete</span><span class="p">[]</span> <span class="n">data_</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="cm">/* Traditional:</span></span>
<span class="code-line"><span class="cm">  String&amp; operator=(const String&amp; rhs)</span></span>
<span class="code-line"><span class="cm">  {</span></span>
<span class="code-line"><span class="cm">    String tmp(rhs);</span></span>
<span class="code-line"><span class="cm">    swap(tmp);</span></span>
<span class="code-line"><span class="cm">    return *this;</span></span>
<span class="code-line"><span class="cm">  }</span></span>
<span class="code-line"><span class="cm">  */</span></span>
<span class="code-line">  <span class="n">String</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">String</span> <span class="n">rhs</span><span class="p">)</span> <span class="c1">// yes, pass-by-value</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">swap</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="c1">// C++ 11</span></span>
<span class="code-line">  <span class="n">String</span><span class="p">(</span><span class="n">String</span><span class="o">&amp;&amp;</span> <span class="n">rhs</span><span class="p">)</span></span>
<span class="code-line">    <span class="o">:</span> <span class="n">data_</span><span class="p">(</span><span class="n">rhs</span><span class="p">.</span><span class="n">data_</span><span class="p">)</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">rhs</span><span class="p">.</span><span class="n">data_</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="n">String</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">String</span><span class="o">&amp;&amp;</span> <span class="n">rhs</span><span class="p">)</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">swap</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="c1">// Accessors</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="kt">size_t</span> <span class="n">size</span><span class="p">()</span> <span class="k">const</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="k">return</span> <span class="n">strlen</span><span class="p">(</span><span class="n">data_</span><span class="p">);</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">c_str</span><span class="p">()</span> <span class="k">const</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="k">return</span> <span class="n">data_</span><span class="p">;</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">  <span class="kt">void</span> <span class="n">swap</span><span class="p">(</span><span class="n">String</span><span class="o">&amp;</span> <span class="n">rhs</span><span class="p">)</span></span>
<span class="code-line">  <span class="p">{</span></span>
<span class="code-line">    <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">data_</span><span class="p">,</span> <span class="n">rhs</span><span class="p">.</span><span class="n">data_</span><span class="p">);</span></span>
<span class="code-line">  <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"> <span class="k">private</span><span class="o">:</span></span>
<span class="code-line">  <span class="kt">char</span><span class="o">*</span> <span class="n">data_</span><span class="p">;</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="kurl">从一个文件中找到出现频率最高的k个单词（url）</h3>
<div class="highlight"><pre><span class="code-line"><span class="c1">// A program to find k most frequent words in a file</span></span>
<span class="code-line"><span class="cp">#include &lt;stdio.h&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;string.h&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;ctype.h&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="cp"># define MAX_CHARS 26</span></span>
<span class="code-line"><span class="cp"># define MAX_WORD_SIZE 30</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A Trie node</span></span>
<span class="code-line"><span class="k">struct</span> <span class="n">TrieNode</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">isEnd</span><span class="p">;</span> <span class="c1">// indicates end of word</span></span>
<span class="code-line">    <span class="kt">unsigned</span> <span class="n">frequency</span><span class="p">;</span>  <span class="c1">// the number of occurrences of a word</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">indexMinHeap</span><span class="p">;</span> <span class="c1">// the index of the word in minHeap</span></span>
<span class="code-line">    <span class="n">TrieNode</span><span class="o">*</span> <span class="n">child</span><span class="p">[</span><span class="n">MAX_CHARS</span><span class="p">];</span> <span class="c1">// represents 26 slots each for 'a' to 'z'.</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A Min Heap node</span></span>
<span class="code-line"><span class="k">struct</span> <span class="n">MinHeapNode</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">TrieNode</span><span class="o">*</span> <span class="n">root</span><span class="p">;</span> <span class="c1">// indicates the leaf node of TRIE</span></span>
<span class="code-line">    <span class="kt">unsigned</span> <span class="n">frequency</span><span class="p">;</span> <span class="c1">//  number of occurrences</span></span>
<span class="code-line">    <span class="kt">char</span><span class="o">*</span> <span class="n">word</span><span class="p">;</span> <span class="c1">// the actual word stored</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A Min Heap</span></span>
<span class="code-line"><span class="k">struct</span> <span class="n">MinHeap</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">unsigned</span> <span class="n">capacity</span><span class="p">;</span> <span class="c1">// the total size a min heap</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">count</span><span class="p">;</span> <span class="c1">// indicates the number of slots filled.</span></span>
<span class="code-line">    <span class="n">MinHeapNode</span><span class="o">*</span> <span class="n">array</span><span class="p">;</span> <span class="c1">//  represents the collection of minHeapNodes</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A utility function to create a new Trie node</span></span>
<span class="code-line"><span class="n">TrieNode</span><span class="o">*</span> <span class="nf">newTrieNode</span><span class="p">()</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="c1">// Allocate memory for Trie Node</span></span>
<span class="code-line">    <span class="n">TrieNode</span><span class="o">*</span> <span class="n">trieNode</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TrieNode</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Initialize values for new node</span></span>
<span class="code-line">    <span class="n">trieNode</span><span class="o">-&gt;</span><span class="n">isEnd</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">trieNode</span><span class="o">-&gt;</span><span class="n">frequency</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">trieNode</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">MAX_CHARS</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span> <span class="p">)</span></span>
<span class="code-line">        <span class="n">trieNode</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">return</span> <span class="n">trieNode</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A utility function to create a Min Heap of given capacity</span></span>
<span class="code-line"><span class="n">MinHeap</span><span class="o">*</span> <span class="nf">createMinHeap</span><span class="p">(</span> <span class="kt">int</span> <span class="n">capacity</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MinHeap</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Allocate memory for array of min heap nodes</span></span>
<span class="code-line">    <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MinHeapNode</span> <span class="p">[</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="p">];</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">return</span> <span class="n">minHeap</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A utility function to swap two min heap nodes. This function</span></span>
<span class="code-line"><span class="c1">// is needed in minHeapify</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">swapMinHeapNodes</span> <span class="p">(</span> <span class="n">MinHeapNode</span><span class="o">*</span> <span class="n">a</span><span class="p">,</span> <span class="n">MinHeapNode</span><span class="o">*</span> <span class="n">b</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">MinHeapNode</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">*</span><span class="n">a</span><span class="p">;</span></span>
<span class="code-line">    <span class="o">*</span><span class="n">a</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span><span class="p">;</span></span>
<span class="code-line">    <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// This is the standard minHeapify function. It does one thing extra.</span></span>
<span class="code-line"><span class="c1">// It updates the minHapIndex in Trie when two nodes are swapped in</span></span>
<span class="code-line"><span class="c1">// in min heap</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">minHeapify</span><span class="p">(</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span><span class="p">,</span> <span class="kt">int</span> <span class="n">idx</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">smallest</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">left</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">right</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">smallest</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span> <span class="n">left</span> <span class="o">&lt;</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span> <span class="o">&amp;&amp;</span></span>
<span class="code-line">         <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">left</span> <span class="p">].</span> <span class="n">frequency</span> <span class="o">&lt;</span></span>
<span class="code-line">         <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">smallest</span> <span class="p">].</span> <span class="n">frequency</span></span>
<span class="code-line">       <span class="p">)</span></span>
<span class="code-line">        <span class="n">smallest</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span> <span class="n">right</span> <span class="o">&lt;</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span> <span class="o">&amp;&amp;</span></span>
<span class="code-line">         <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">right</span> <span class="p">].</span> <span class="n">frequency</span> <span class="o">&lt;</span></span>
<span class="code-line">         <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">smallest</span> <span class="p">].</span> <span class="n">frequency</span></span>
<span class="code-line">       <span class="p">)</span></span>
<span class="code-line">        <span class="n">smallest</span> <span class="o">=</span> <span class="n">right</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">if</span><span class="p">(</span> <span class="n">smallest</span> <span class="o">!=</span> <span class="n">idx</span> <span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="c1">// Update the corresponding index in Trie node.</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">smallest</span> <span class="p">].</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="n">idx</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">idx</span> <span class="p">].</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="n">smallest</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">// Swap nodes in min heap</span></span>
<span class="code-line">        <span class="n">swapMinHeapNodes</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">smallest</span> <span class="p">],</span> <span class="o">&amp;</span><span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">idx</span> <span class="p">]);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">minHeapify</span><span class="p">(</span> <span class="n">minHeap</span><span class="p">,</span> <span class="n">smallest</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A standard function to build a heap</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">buildMinHeap</span><span class="p">(</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">n</span> <span class="o">=</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">for</span><span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="p">(</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span> <span class="p">)</span></span>
<span class="code-line">        <span class="n">minHeapify</span><span class="p">(</span> <span class="n">minHeap</span><span class="p">,</span> <span class="n">i</span> <span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// Inserts a word to heap, the function handles the 3 cases explained above</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">insertInMinHeap</span><span class="p">(</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span><span class="p">,</span> <span class="n">TrieNode</span><span class="o">**</span> <span class="n">root</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">word</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="c1">// Case 1: the word is already present in minHeap</span></span>
<span class="code-line">    <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="o">++</span><span class="p">(</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="p">].</span> <span class="n">frequency</span> <span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">// percolate down</span></span>
<span class="code-line">        <span class="n">minHeapify</span><span class="p">(</span> <span class="n">minHeap</span><span class="p">,</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Case 2: Word is not present and heap is not full</span></span>
<span class="code-line">    <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span> <span class="o">&lt;</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">count</span> <span class="p">].</span> <span class="n">frequency</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frequency</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">count</span> <span class="p">].</span> <span class="n">word</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span> <span class="p">[</span><span class="n">strlen</span><span class="p">(</span> <span class="n">word</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span></span>
<span class="code-line">        <span class="n">strcpy</span><span class="p">(</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">count</span> <span class="p">].</span> <span class="n">word</span><span class="p">,</span> <span class="n">word</span> <span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="n">count</span> <span class="p">].</span> <span class="n">root</span> <span class="o">=</span> <span class="o">*</span><span class="n">root</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="o">++</span><span class="p">(</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span> <span class="p">);</span></span>
<span class="code-line">        <span class="n">buildMinHeap</span><span class="p">(</span> <span class="n">minHeap</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Case 3: Word is not present and heap is full. And frequency of word</span></span>
<span class="code-line">    <span class="c1">// is more than root. The root is the least frequent word in heap,</span></span>
<span class="code-line">    <span class="c1">// replace root with new word</span></span>
<span class="code-line">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frequency</span> <span class="o">&gt;</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span> <span class="n">frequency</span> <span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">root</span> <span class="o">=</span> <span class="o">*</span><span class="n">root</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">indexMinHeap</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">frequency</span> <span class="o">=</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frequency</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">// delete previously allocated memoory and</span></span>
<span class="code-line">        <span class="k">delete</span> <span class="p">[]</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">word</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">word</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span> <span class="p">[</span><span class="n">strlen</span><span class="p">(</span> <span class="n">word</span> <span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span></span>
<span class="code-line">        <span class="n">strcpy</span><span class="p">(</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span> <span class="mi">0</span> <span class="p">].</span> <span class="n">word</span><span class="p">,</span> <span class="n">word</span> <span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">minHeapify</span> <span class="p">(</span> <span class="n">minHeap</span><span class="p">,</span> <span class="mi">0</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// Inserts a new word to both Trie and Heap</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">insertUtil</span> <span class="p">(</span> <span class="n">TrieNode</span><span class="o">**</span> <span class="n">root</span><span class="p">,</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span><span class="p">,</span></span>
<span class="code-line">                        <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">word</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">dupWord</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="c1">// Base Case</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span> <span class="o">*</span><span class="n">root</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="p">)</span></span>
<span class="code-line">        <span class="o">*</span><span class="n">root</span> <span class="o">=</span> <span class="n">newTrieNode</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">//  There are still more characters in word</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span> <span class="o">*</span><span class="n">word</span> <span class="o">!=</span> <span class="sc">'\0'</span> <span class="p">)</span></span>
<span class="code-line">        <span class="n">insertUtil</span> <span class="p">(</span> <span class="o">&amp;</span><span class="p">((</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span> <span class="n">tolower</span><span class="p">(</span> <span class="o">*</span><span class="n">word</span> <span class="p">)</span> <span class="o">-</span> <span class="mi">97</span> <span class="p">]),</span></span>
<span class="code-line">                         <span class="n">minHeap</span><span class="p">,</span> <span class="n">word</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dupWord</span> <span class="p">);</span></span>
<span class="code-line">    <span class="k">else</span> <span class="c1">// The complete word is processed</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="c1">// word is already present, increase the frequency</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">isEnd</span> <span class="p">)</span></span>
<span class="code-line">            <span class="o">++</span><span class="p">(</span> <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frequency</span> <span class="p">);</span></span>
<span class="code-line">        <span class="k">else</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">isEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">(</span><span class="o">*</span><span class="n">root</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frequency</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="c1">// Insert in min heap also</span></span>
<span class="code-line">        <span class="n">insertInMinHeap</span><span class="p">(</span> <span class="n">minHeap</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">dupWord</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// add a word to Trie &amp; min heap.  A wrapper over the insertUtil</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">insertTrieAndHeap</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">word</span><span class="p">,</span> <span class="n">TrieNode</span><span class="o">**</span> <span class="n">root</span><span class="p">,</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">insertUtil</span><span class="p">(</span> <span class="n">root</span><span class="p">,</span> <span class="n">minHeap</span><span class="p">,</span> <span class="n">word</span><span class="p">,</span> <span class="n">word</span> <span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// A utility function to show results, The min heap</span></span>
<span class="code-line"><span class="c1">// contains k most frequent words so far, at any time</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">displayMinHeap</span><span class="p">(</span> <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// print top K word with frequency</span></span>
<span class="code-line">    <span class="k">for</span><span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">count</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span> <span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">printf</span><span class="p">(</span> <span class="s">"%s : %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">word</span><span class="p">,</span></span>
<span class="code-line">                            <span class="n">minHeap</span><span class="o">-&gt;</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">frequency</span> <span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// The main funtion that takes a file as input, add words to heap</span></span>
<span class="code-line"><span class="c1">// and Trie, finally shows result from heap</span></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">printKMostFreq</span><span class="p">(</span> <span class="kt">FILE</span><span class="o">*</span> <span class="n">fp</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span> <span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="c1">// Create a Min Heap of Size k</span></span>
<span class="code-line">    <span class="n">MinHeap</span><span class="o">*</span> <span class="n">minHeap</span> <span class="o">=</span> <span class="n">createMinHeap</span><span class="p">(</span> <span class="n">k</span> <span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Create an empty Trie</span></span>
<span class="code-line">    <span class="n">TrieNode</span><span class="o">*</span> <span class="n">root</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// A buffer to store one word at a time</span></span>
<span class="code-line">    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="n">MAX_WORD_SIZE</span><span class="p">];</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// Read words one by one from file.  Insert the word in Trie and Min Heap</span></span>
<span class="code-line">    <span class="k">while</span><span class="p">(</span> <span class="n">fscanf</span><span class="p">(</span> <span class="n">fp</span><span class="p">,</span> <span class="s">"%s"</span><span class="p">,</span> <span class="n">buffer</span> <span class="p">)</span> <span class="o">!=</span> <span class="n">EOF</span> <span class="p">)</span></span>
<span class="code-line">        <span class="n">insertTrieAndHeap</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">root</span><span class="p">,</span> <span class="n">minHeap</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="c1">// The Min Heap will have the k most frequent words, so print Min Heap nodes</span></span>
<span class="code-line">    <span class="n">displayMinHeap</span><span class="p">(</span> <span class="n">minHeap</span> <span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">// Driver program to test above functions</span></span>
<span class="code-line"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">FILE</span> <span class="o">*</span><span class="n">fp</span> <span class="o">=</span> <span class="n">fopen</span> <span class="p">(</span><span class="s">"file.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">fp</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span></span>
<span class="code-line">        <span class="n">printf</span> <span class="p">(</span><span class="s">"File doesn't exist "</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">else</span></span>
<span class="code-line">        <span class="n">printKMostFreq</span> <span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="cppcondition">CPP使用condition实现线程安全的阻塞队列</h3>
<div class="highlight"><pre><span class="code-line"><span class="cm">/*</span></span>
<span class="code-line"><span class="cm"> * BlockingQueue.h</span></span>
<span class="code-line"><span class="cm"> */</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="cp">#ifndef BLOCKINGQUEUE_H_</span></span>
<span class="code-line"><span class="cp">#define BLOCKINGQUEUE_H_</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="cp">#include &lt;iostream&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;pthread.h&gt;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">//template &lt;typename T &gt;</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">BlockingQueue</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">BlockingQueue</span><span class="p">();</span></span>
<span class="code-line">    <span class="n">BlockingQueue</span><span class="p">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="p">);</span></span>
<span class="code-line">    <span class="o">~</span><span class="n">BlockingQueue</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">bool</span> <span class="nf">push</span><span class="p">(</span><span class="kt">int</span> <span class="n">item</span><span class="p">);</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="nf">poll</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">private</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">capacity</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">int</span><span class="o">*</span> <span class="n">queue</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">head</span><span class="p">,</span><span class="n">tail</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">pthread_mutex_t</span> <span class="n">mutex</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">pthread_cond_t</span> <span class="n">notFull</span><span class="p">,</span><span class="n">notEmpty</span><span class="p">;</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="cp">#endif </span><span class="cm">/* BLOCKINGQUEUE_H_ */</span><span class="cp"></span></span>
<span class="code-line"></span>
<span class="code-line"><span class="cm">/*</span></span>
<span class="code-line"><span class="cm"> * BlockingQueue.cpp</span></span>
<span class="code-line"><span class="cm"> */</span></span>
<span class="code-line"><span class="cp">#include "../include/BlockingQueue.h"</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">BlockingQueue</span><span class="o">::</span><span class="n">BlockingQueue</span><span class="p">()</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="k">this</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">capacity</span><span class="p">];</span></span>
<span class="code-line">    <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">tail</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notFull</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notEmpty</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">BlockingQueue</span><span class="o">::</span><span class="n">BlockingQueue</span><span class="p">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="k">this</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">capacity</span><span class="p">];</span></span>
<span class="code-line">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"capacity "</span> <span class="o">&lt;&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">tail</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">pthread_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notFull</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notEmpty</span><span class="p">,</span><span class="nb">NULL</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">BlockingQueue</span><span class="o">::~</span><span class="n">BlockingQueue</span><span class="p">()</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="k">this</span><span class="o">-&gt;</span><span class="n">capacity</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">head</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">tail</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">delete</span> <span class="n">queue</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">pthread_mutex_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notFull</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_cond_destroy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notEmpty</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">bool</span> <span class="n">BlockingQueue</span><span class="o">::</span><span class="n">push</span><span class="p">(</span><span class="kt">int</span> <span class="n">item</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"you want push "</span> <span class="o">&lt;&lt;</span> <span class="n">item</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">while</span><span class="p">((</span><span class="n">head</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">capacity</span> <span class="o">==</span> <span class="n">tail</span><span class="p">)</span><span class="c1">//is full</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"is full,wait..."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">// push wait</span></span>
<span class="code-line">        <span class="n">pthread_cond_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notFull</span><span class="p">,</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"not full,unlock"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">queue</span><span class="p">[</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">head</span> <span class="o">=</span> <span class="p">(</span><span class="n">head</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"push "</span> <span class="o">&lt;&lt;</span> <span class="n">item</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">//wake up poll thread</span></span>
<span class="code-line">        <span class="n">pthread_cond_signal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notEmpty</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">int</span> <span class="n">BlockingQueue</span><span class="o">::</span><span class="n">poll</span><span class="p">()</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">while</span><span class="p">(</span><span class="n">head</span> <span class="o">==</span> <span class="n">tail</span><span class="p">)</span> <span class="c1">// is empty</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"is empty,wait..."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">//poll wait</span></span>
<span class="code-line">        <span class="n">pthread_cond_wait</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notEmpty</span><span class="p">,</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"not empty,unlock..."</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">ret</span> <span class="o">=</span> <span class="n">queue</span><span class="p">[</span><span class="n">tail</span><span class="p">];</span></span>
<span class="code-line">        <span class="n">tail</span> <span class="o">=</span> <span class="p">(</span><span class="n">tail</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">capacity</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"take "</span> <span class="o">&lt;&lt;</span> <span class="n">ret</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">//wake up push thread</span></span>
<span class="code-line">        <span class="n">pthread_cond_signal</span><span class="p">(</span><span class="o">&amp;</span><span class="n">notFull</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mutex</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">ret</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="cm">/* mian.c*/</span></span>
<span class="code-line"><span class="cp">#include &lt;iostream&gt;</span></span>
<span class="code-line"><span class="cp">#include "include/BlockingQueue.h"</span></span>
<span class="code-line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span></span>
<span class="code-line"><span class="n">BlockingQueue</span> <span class="nf">queue</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">void</span><span class="o">*</span> <span class="nf">put</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">void</span><span class="o">*</span> <span class="nf">take</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line">    <span class="n">queue</span><span class="p">.</span><span class="n">poll</span><span class="p">();</span></span>
<span class="code-line">    <span class="n">queue</span><span class="p">.</span><span class="n">poll</span><span class="p">();</span></span>
<span class="code-line">    <span class="n">queue</span><span class="p">.</span><span class="n">poll</span><span class="p">();</span></span>
<span class="code-line">    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">pthread_t</span> <span class="n">put1</span><span class="p">,</span><span class="n">take1</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">put1</span><span class="p">,</span><span class="nb">NULL</span><span class="p">,</span><span class="n">put</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">take1</span><span class="p">,</span><span class="nb">NULL</span><span class="p">,</span><span class="n">take</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="o">*</span> <span class="n">retval</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">pthread_join</span><span class="p">(</span><span class="n">put1</span><span class="p">,</span><span class="o">&amp;</span><span class="n">retval</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">pthread_join</span><span class="p">(</span><span class="n">take1</span><span class="p">,</span><span class="o">&amp;</span><span class="n">retval</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="_1">写一个智能指针类</h3>
<div class="highlight"><pre><span class="code-line"><span class="cp">#include &lt;iostream&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;cstdlib&gt;</span></span>
<span class="code-line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">SmartPointer</span><span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">SmartPointer</span><span class="p">(</span><span class="n">T</span><span class="o">*</span> <span class="n">ptr</span><span class="p">){</span></span>
<span class="code-line">        <span class="n">ref</span> <span class="o">=</span> <span class="n">ptr</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">ref_count</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">unsigned</span><span class="p">));</span></span>
<span class="code-line">        <span class="o">*</span><span class="n">ref_count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">SmartPointer</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">sptr</span><span class="p">){</span></span>
<span class="code-line">        <span class="n">ref</span> <span class="o">=</span> <span class="n">sptr</span><span class="p">.</span><span class="n">ref</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">ref_count</span> <span class="o">=</span> <span class="n">sptr</span><span class="p">.</span><span class="n">ref_count</span><span class="p">;</span></span>
<span class="code-line">        <span class="o">++*</span><span class="n">ref_count</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">SmartPointer</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">sptr</span><span class="p">){</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="n">sptr</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="o">--*</span><span class="n">ref_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span></span>
<span class="code-line">                <span class="n">clear</span><span class="p">();</span></span>
<span class="code-line">                <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"operator= clear"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="n">ref</span> <span class="o">=</span> <span class="n">sptr</span><span class="p">.</span><span class="n">ref</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">ref_count</span> <span class="o">=</span> <span class="n">sptr</span><span class="p">.</span><span class="n">ref_count</span><span class="p">;</span></span>
<span class="code-line">            <span class="o">++*</span><span class="n">ref_count</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="o">~</span><span class="n">SmartPointer</span><span class="p">(){</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">--*</span><span class="n">ref_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">){</span></span>
<span class="code-line">            <span class="n">clear</span><span class="p">();</span></span>
<span class="code-line">            <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"destructor clear"</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">T</span> <span class="n">getValue</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="o">*</span><span class="n">ref</span><span class="p">;</span> <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">private</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">clear</span><span class="p">(){</span></span>
<span class="code-line">        <span class="k">delete</span> <span class="n">ref</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">free</span><span class="p">(</span><span class="n">ref_count</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">ref</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="c1">// 避免它成为迷途指针</span></span>
<span class="code-line">        <span class="n">ref_count</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">protected</span><span class="o">:</span>  </span>
<span class="code-line">    <span class="n">T</span> <span class="o">*</span><span class="n">ref</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">unsigned</span> <span class="o">*</span><span class="n">ref_count</span><span class="p">;</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="o">*</span><span class="n">ip1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">();</span></span>
<span class="code-line">    <span class="o">*</span><span class="n">ip1</span> <span class="o">=</span> <span class="mi">11111</span><span class="p">;</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="o">*</span><span class="n">ip2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">();</span></span>
<span class="code-line">    <span class="o">*</span><span class="n">ip2</span> <span class="o">=</span> <span class="mi">22222</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">SmartPointer</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sp1</span><span class="p">(</span><span class="n">ip1</span><span class="p">),</span> <span class="n">sp2</span><span class="p">(</span><span class="n">ip2</span><span class="p">);</span></span>
<span class="code-line">    <span class="n">SmartPointer</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">spa</span> <span class="o">=</span> <span class="n">sp1</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">sp2</span> <span class="o">=</span> <span class="n">spa</span><span class="p">;</span> <span class="c1">// 注释掉它将得到不同输出</span></span>
<span class="code-line">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="merge-k-sorted-list">merge K sorted List</h3>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">ListNode</span> <span class="o">*</span><span class="n">mergeTwoLists</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">l1</span><span class="p">,</span> <span class="n">ListNode</span><span class="o">*</span> <span class="n">l2</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="nb">NULL</span> <span class="o">==</span> <span class="n">l1</span><span class="p">)</span> <span class="k">return</span> <span class="n">l2</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">NULL</span> <span class="o">==</span> <span class="n">l2</span><span class="p">)</span> <span class="k">return</span> <span class="n">l1</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">l1</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="n">l2</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">            <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">mergeTwoLists</span><span class="p">(</span><span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">,</span> <span class="n">l2</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">l1</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">else</span> <span class="p">{</span></span>
<span class="code-line">            <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">mergeTwoLists</span><span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">l2</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="n">ListNode</span> <span class="o">*</span><span class="n">mergeKLists</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ListNode</span> <span class="o">*&gt;</span> <span class="o">&amp;</span><span class="n">lists</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">lists</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">lists</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">len</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">                <span class="n">lists</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">mergeTwoLists</span><span class="p">(</span><span class="n">lists</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">lists</span><span class="p">[</span><span class="n">len</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">i</span><span class="p">]);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">len</span> <span class="o">=</span> <span class="p">(</span><span class="n">len</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">return</span> <span class="n">lists</span><span class="p">.</span><span class="n">front</span><span class="p">();</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_2">实现一个内存池</h3>
<div class="highlight"><pre><span class="code-line"><span class="cp">#include &lt;iostream&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;string&gt;</span></span>
<span class="code-line"><span class="cp">#include &lt;time.h&gt;</span></span>
<span class="code-line"><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">MemPool</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">MemPool</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="o">=</span><span class="n">EXPANDSIZE</span><span class="p">){</span> </span>
<span class="code-line">        <span class="n">expandMem</span><span class="p">(</span><span class="n">size</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="o">~</span><span class="n">MemPool</span><span class="p">()</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;*</span> <span class="n">NextPtr</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="n">NextPtr</span> <span class="o">=</span> <span class="n">FreeList</span><span class="p">;</span> <span class="n">NextPtr</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">;</span> <span class="n">NextPtr</span> <span class="o">=</span> <span class="n">FreeList</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">FreeList</span> <span class="o">=</span> <span class="n">FreeList</span><span class="o">-&gt;</span><span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">delete</span><span class="p">[](</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span> <span class="n">NextPtr</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="o">*</span><span class="n">Alloc</span><span class="p">()</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">FreeList</span><span class="o">==</span><span class="k">nullptr</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">expandMem</span><span class="p">(</span><span class="n">EXPANDSIZE</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">Head</span> <span class="o">=</span> <span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">FreeList</span> <span class="o">=</span> <span class="n">FreeList</span><span class="o">-&gt;</span><span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">Head</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">Free</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">PtrMem</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">Head</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*&gt;</span><span class="p">(</span><span class="n">PtrMem</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">Head</span><span class="o">-&gt;</span><span class="n">FreeList</span><span class="o">=</span> <span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">FreeList</span> <span class="o">=</span> <span class="n">Head</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="k">private</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">enum</span>  <span class="p">{</span> <span class="n">EXPANDSIZE</span> <span class="o">=</span> <span class="mi">32</span> <span class="p">};</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">expandMem</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">size_t</span> <span class="n">nSize</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="o">&gt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">)</span> <span class="o">?</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span> <span class="o">:</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">MemPool</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span> <span class="n">NewMem</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">MemPool</span> <span class="o">*&gt;</span> <span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span> <span class="kt">void</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">nSize</span><span class="p">]));</span></span>
<span class="code-line">        <span class="n">FreeList</span> <span class="o">=</span> <span class="n">NewMem</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">NewMem</span><span class="o">-&gt;</span><span class="n">FreeList</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">MemPool</span> <span class="o">*&gt;</span> <span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span> <span class="o">*&gt;</span><span class="p">(</span><span class="k">new</span> <span class="kt">char</span><span class="p">[</span><span class="n">nSize</span><span class="p">]));</span></span>
<span class="code-line">            <span class="n">NewMem</span> <span class="o">=</span> <span class="n">NewMem</span><span class="o">-&gt;</span><span class="n">FreeList</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">NewMem</span><span class="o">-&gt;</span><span class="n">FreeList</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span></span>
<span class="code-line"><span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">clock_t</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">start</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">60000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span></span>
<span class="code-line">            <span class="k">delete</span><span class="p">[]</span> <span class="n">p</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="n">end</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">//  cout &lt;&lt; duration;</span></span>
<span class="code-line">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">((</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span><span class="o">/</span><span class="mi">1000</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">MemPool</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">Memtest</span><span class="p">;</span></span>
<span class="code-line">    <span class="n">start</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">){</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span> <span class="o">*&gt;</span> <span class="p">(</span><span class="n">Memtest</span><span class="p">.</span><span class="n">Alloc</span><span class="p">());</span></span>
<span class="code-line">            <span class="n">Memtest</span><span class="p">.</span><span class="n">Free</span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">void</span> <span class="o">*&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">));</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="n">end</span> <span class="o">=</span> <span class="n">clock</span><span class="p">();</span></span>
<span class="code-line">    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span><span class="o">/</span><span class="mf">1000.0</span>  <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="_3">排列问题</h3>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">permute</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">nums</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nums</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">())</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">swap</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]);</span></span>
<span class="code-line">            <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">nums</span> <span class="p">);</span></span>
<span class="code-line">            <span class="n">swap</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="c1">////////////有重复数字</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">permuteUnique</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">sort</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">nums</span><span class="p">.</span><span class="n">end</span><span class="p">());</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nums</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">nums</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">())</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">start</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">swap</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span><span class="p">]);</span></span>
<span class="code-line">                <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">nums</span><span class="p">);</span></span>
<span class="code-line">                <span class="c1">//swap(nums[i], nums[start]);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_4">组合问题</h3>
<h4 id="select-k-from-n">select k from n</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">combine</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">helper</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">helper</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="o">&amp;</span> <span class="n">res</span><span class="p">,</span><span class="kt">int</span> <span class="n">from</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="n">from</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span><span class="c1">// </span></span>
<span class="code-line">            <span class="n">helper</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">ans</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">ans</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="combination-sum">combination sum</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">combinationSum2</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">candidates</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span>    </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">sort</span><span class="p">(</span><span class="n">candidates</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">candidates</span><span class="p">.</span><span class="n">end</span><span class="p">());</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">ans</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">candidates</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">,</span><span class="kt">int</span> <span class="n">start</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">start</span><span class="p">;</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">candidates</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">target</span><span class="o">&gt;=</span><span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">start</span> <span class="o">||</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span></span>
<span class="code-line">                <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">candidates</span><span class="p">,</span> <span class="n">target</span> <span class="o">-</span> <span class="n">candidates</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">ans</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">                <span class="n">ans</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="p">}</span>   </span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_6">二分查找</h3>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">search</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">target</span> <span class="o">&lt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span> <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">                <span class="k">else</span> <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">target</span> <span class="o">&amp;&amp;</span> <span class="n">target</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">])</span> <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">                <span class="k">else</span> <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">right</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="c1">///////////////////// 有序</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">searchMatrix1</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">matrix</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">row</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">//  cout&lt;&lt;row&lt;&lt;endl;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">row</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">)</span> <span class="n">row</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span></span>
<span class="code-line">            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">){</span></span>
<span class="code-line">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span><span class="p">{</span></span>
<span class="code-line">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">searchMatrix</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">matrix</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">n</span><span class="o">*</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">mid</span> <span class="o">/</span> <span class="n">n</span><span class="p">][</span><span class="n">mid</span><span class="o">%</span><span class="n">n</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">matrix</span><span class="p">[</span><span class="n">mid</span> <span class="o">/</span> <span class="n">n</span><span class="p">][</span><span class="n">mid</span><span class="o">%</span><span class="n">n</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="p">{</span></span>
<span class="code-line">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="find-the-peak">find the peak</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">findPeakElement</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nf">find</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">find</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">((</span><span class="n">mid</span> <span class="o">==</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">mid</span><span class="o">==</span><span class="mi">0</span> <span class="o">||</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]))</span> <span class="k">return</span> <span class="n">mid</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">mid</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="k">return</span> <span class="n">find</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">left</span> <span class="p">,</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">else</span> <span class="k">return</span> <span class="nf">find</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="k">数组的第K大元素</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">findKthLargest</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span></span>
<span class="code-line">        <span class="n">k</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">k</span><span class="p">;</span></span>
<span class="code-line">        <span class="c1">//cout &lt;&lt; k &lt;&lt; " k " &lt;&lt; n &lt;&lt; " n " &lt;&lt; endl;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nf">findKthSmallest</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">findKthSmallest</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">pivort</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">];</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">pivort</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">swap</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">swap</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">]);</span></span>
<span class="code-line">        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">left</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span> <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">k</span><span class="p">)</span> <span class="k">return</span> <span class="n">findKthSmallest</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="n">left</span><span class="p">,</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">else</span> <span class="k">return</span> <span class="nf">findKthSmallest</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">k</span> <span class="o">-</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">));</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_7">旋转有序数组的最小元素</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">findMin</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">[</span><span class="n">right</span><span class="p">])</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">left</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">];</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_9">二叉树</h3>
<h4 id="lca">LCA</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">TreeNode</span><span class="o">*</span> <span class="n">lowestCommonAncestor</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="n">TreeNode</span><span class="o">*</span> <span class="n">p</span><span class="p">,</span> <span class="n">TreeNode</span><span class="o">*</span> <span class="n">q</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&amp;&amp;</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">lowestCommonAncestor</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&gt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&amp;&amp;</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&gt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">lowestCommonAncestor</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">root</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">printTree</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">printTree</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">printTree</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="bst">有效BST</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">isValidBST</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">TreeNode</span><span class="o">*</span> <span class="n">pre</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nf">check</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">pre</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">check</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="n">TreeNode</span><span class="o">*</span> <span class="o">&amp;</span><span class="n">pre</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">pre</span><span class="p">))</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">pre</span> <span class="o">&amp;&amp;</span> <span class="n">pre</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&gt;=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">pre</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">return</span> <span class="nf">check</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">pre</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="tobst">排序链表toBST</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">TreeNode</span><span class="o">*</span> <span class="n">sortedListToBST</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">head</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="k">return</span> <span class="k">new</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">fast</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span> </span>
<span class="code-line">            <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">nRoot</span> <span class="o">=</span> <span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeNode</span><span class="p">(</span><span class="n">nRoot</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">slow</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="n">sortedListToBST</span><span class="p">(</span><span class="n">head</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">sortedListToBST</span><span class="p">(</span><span class="n">nRoot</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">root</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">print</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">print</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">print</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_10">层次遍历</h4>
<div class="highlight"><pre><span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span><span class="n">levelOrderBottom</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">nodesInCurrentLevel</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">nodesInNextLevel</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">queue</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">*</span> <span class="o">&gt;</span> <span class="n">Queue</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">Queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">root</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">vec</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">Queue</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">.</span><span class="n">front</span><span class="p">();</span></span>
<span class="code-line">            <span class="n">Queue</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">nodesInCurrentLevel</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="n">Queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">);</span></span>
<span class="code-line">                    <span class="n">nodesInNextLevel</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="n">Queue</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span></span>
<span class="code-line">                    <span class="n">nodesInNextLevel</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nodesInCurrentLevel</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">vec</span><span class="p">);</span></span>
<span class="code-line">                <span class="n">nodesInCurrentLevel</span> <span class="o">=</span> <span class="n">nodesInNextLevel</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">nodesInNextLevel</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">vec</span> <span class="o">=</span> <span class="p">{};</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span> <span class="n">res</span><span class="p">.</span><span class="n">rend</span><span class="p">());</span></span>
<span class="code-line">    <span class="p">}</span></span>
</pre></div>
<h4 id="bstk">BST中第K个最小元素</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">kthSmallest</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span><span class="n">res</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">inorder</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">count</span><span class="p">,</span><span class="kt">int</span><span class="o">&amp;</span> <span class="n">res</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span><span class="n">res</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">res</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">;</span></span>
<span class="code-line">                <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">inorder</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="bst_1">BST迭代器</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">BSTIterator</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">BSTIterator</span><span class="p">(</span><span class="n">TreeNode</span> <span class="o">*</span><span class="n">root</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">myStack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="cm">/** @return whether we have a next smallest number */</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">hasNext</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">return</span> <span class="o">!</span><span class="n">myStack</span><span class="p">.</span><span class="n">empty</span><span class="p">();</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="cm">/** @return the next smallest number */</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">next</span><span class="p">()</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">myStack</span><span class="p">.</span><span class="n">top</span><span class="p">();</span></span>
<span class="code-line">        <span class="n">myStack</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">top</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">myStack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">p</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">top</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="k">private</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">*&gt;</span> <span class="n">myStack</span><span class="p">;</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_11">把二叉树转化为链表</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">flatten</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">flatten</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">        <span class="kt">void</span> <span class="n">flatten1</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> <span class="c1">// find the right most tree of the left subtree then point to the right subtree </span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">root</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">p</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">root</span> <span class="o">=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_13">链表</h3>
<h4 id="_14">反转链表</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">ListNode</span><span class="o">*</span> <span class="n">reverseList1</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">head</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="o">||</span> <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">reverseList1</span><span class="p">(</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">);</span> <span class="c1">// 防止断链</span></span>
<span class="code-line">        <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">q</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="n">ListNode</span><span class="o">*</span> <span class="n">reverseList</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">){</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">head</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="o">||</span> <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span></span>
<span class="code-line">            <span class="k">return</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">head</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">auto</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">head</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">dummy</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="k-group">K-group 反转链表</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">ListNode</span><span class="o">*</span> <span class="n">reverseKGroup</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">dummy</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">tail</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">while</span> <span class="p">(</span><span class="n">tail</span><span class="o">&amp;&amp;</span><span class="n">count</span> <span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">tail</span> <span class="o">=</span> <span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">count</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tail</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">head</span> <span class="o">=</span> <span class="n">pre</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">while</span> <span class="p">(</span><span class="n">pre</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">!=</span> <span class="n">tail</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">pre</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">pre</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">tail</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">pre</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">tail</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">dummy</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>        </span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_15">旋转链表</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">ListNode</span><span class="o">*</span> <span class="n">rotateRight</span><span class="p">(</span><span class="n">ListNode</span><span class="o">*</span> <span class="n">head</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">head</span> <span class="o">||</span> <span class="o">!</span><span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="k">return</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">dummy</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">count</span><span class="o">++</span> <span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">%</span> <span class="p">(</span><span class="n">count</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">count</span> <span class="o">-</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">num</span><span class="o">--</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">head</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">head</span><span class="p">;</span>        </span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="copy-linked-list-with-random-pointer">copy linked list with random pointer</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">RandomListNode</span> <span class="o">*</span><span class="n">copyRandomList</span><span class="p">(</span><span class="n">RandomListNode</span> <span class="o">*</span><span class="n">head</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="n">std</span><span class="o">::</span><span class="n">unordered_map</span><span class="o">&lt;</span> <span class="n">RandomListNode</span><span class="o">*</span><span class="p">,</span> <span class="n">RandomListNode</span><span class="o">*&gt;</span> <span class="n">map</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">RandomListNode</span><span class="o">*</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RandomListNode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RandomListNode</span><span class="p">(</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">label</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">map</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="n">p</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">q</span> <span class="o">=</span> <span class="n">dummy</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span><span class="p">(</span><span class="n">p</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">random</span> <span class="o">=</span> <span class="n">map</span><span class="p">[</span><span class="n">p</span><span class="o">-&gt;</span><span class="n">random</span><span class="p">];</span></span>
<span class="code-line">            <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">q</span> <span class="o">=</span> <span class="n">q</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>            </span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"><span class="c1">///////// Another solution</span></span>
<span class="code-line"><span class="n">RandomListNode</span> <span class="o">*</span><span class="n">copyRandomList</span><span class="p">(</span><span class="n">RandomListNode</span> <span class="o">*</span><span class="n">head</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="n">RandomListNode</span> <span class="o">*</span><span class="n">newHead</span><span class="p">,</span> <span class="o">*</span><span class="n">l1</span><span class="p">,</span> <span class="o">*</span><span class="n">l2</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">head</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="n">l1</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span> <span class="n">l1</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="n">l2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RandomListNode</span><span class="p">(</span><span class="n">l1</span><span class="o">-&gt;</span><span class="n">label</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">l2</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">newHead</span> <span class="o">=</span> <span class="n">head</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="n">l1</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span> <span class="n">l1</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">l1</span><span class="o">-&gt;</span><span class="n">random</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">random</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">random</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="n">l1</span> <span class="o">=</span> <span class="n">head</span><span class="p">;</span> <span class="n">l1</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">;</span> <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="n">l2</span> <span class="o">=</span> <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">l1</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span> <span class="o">=</span> <span class="n">l2</span><span class="o">-&gt;</span><span class="n">next</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="k">return</span> <span class="n">newHead</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="_17">括号</h3>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">generateParenthesis</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">string</span> <span class="n">ans</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">ans</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="n">string</span> <span class="n">ans</span><span class="p">,</span><span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">n</span> <span class="o">||</span> <span class="n">right</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">==</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">right</span> <span class="o">==</span> <span class="n">n</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span> </span>
<span class="code-line">            <span class="c1">//return;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">right</span> <span class="o">&gt;</span> <span class="n">left</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">left</span><span class="o">&gt;</span><span class="n">right</span><span class="p">)</span> <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">ans</span> <span class="o">+</span> <span class="sc">')'</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">if</span><span class="p">(</span><span class="n">left</span><span class="o">&lt;</span><span class="n">n</span><span class="p">)</span>  <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">ans</span> <span class="o">+</span> <span class="sc">'('</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_18">最长有效括号</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">longestValidParentheses</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="n">stack</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">Stack</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">INT_MIN</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'('</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">Stack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">Stack</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">Stack</span><span class="p">.</span><span class="n">top</span><span class="p">()]</span> <span class="o">==</span> <span class="sc">'('</span><span class="p">)</span>          <span class="n">Stack</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span></span>
<span class="code-line">                    <span class="k">else</span> <span class="n">Stack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">                <span class="k">else</span></span>
<span class="code-line">                    <span class="n">Stack</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">i</span><span class="p">);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">Stack</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="n">n</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">len</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">Stack</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">i</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">.</span><span class="n">top</span><span class="p">();</span></span>
<span class="code-line">            <span class="n">Stack</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span></span>
<span class="code-line">            <span class="n">len</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">n</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">len</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="n">res</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">i</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_20">包含重复数字</h3>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">bool</span> <span class="n">containsNearbyAlmostDuplicate</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="kt">int</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">k</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">unordered_map</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">dic</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">key</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">t</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">key</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">t</span><span class="p">;</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">%</span><span class="n">t</span><span class="p">)</span> <span class="n">key</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="n">key</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span> <span class="n">dic</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">!=</span> <span class="n">dic</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">||</span></span>
<span class="code-line">                <span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">dic</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">key</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="p">)</span> <span class="o">||</span></span>
<span class="code-line">                <span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="n">dic</span><span class="p">.</span><span class="n">end</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">abs</span><span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">key</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&lt;=</span> <span class="n">t</span><span class="p">)</span> <span class="p">)</span></span>
<span class="code-line">                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="n">k</span><span class="p">)</span> <span class="n">dic</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">dic</span><span class="p">.</span><span class="n">begin</span><span class="p">());</span></span>
<span class="code-line">            <span class="n">dic</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_21">排序</h3>
<h4 id="_22">最大数字</h4>
<div class="highlight"><pre><span class="code-line"><span class="n">string</span> <span class="nf">largestNumber</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">arr</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">i</span> <span class="p">:</span> <span class="n">nums</span><span class="p">)</span></span>
<span class="code-line">            <span class="n">arr</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">to_string</span><span class="p">(</span><span class="n">i</span><span class="p">));</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">mergeSort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">string</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="nl">num</span> <span class="p">:</span> <span class="n">arr</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span> <span class="o">+=</span> <span class="n">num</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'0'</span><span class="p">)</span> <span class="k">return</span> <span class="s">"0"</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">mergeSort</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">mid</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">mergeSort</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span></span>
<span class="code-line">            <span class="n">merge</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="nf">merge</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mid</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">tmp</span><span class="p">(</span><span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="n">left</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">mid</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">((</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="p">]))</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">tmp</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="o">++</span><span class="p">];</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">tmp</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">];</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">mid</span><span class="p">)</span> <span class="n">tmp</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">left</span><span class="o">++</span><span class="p">];</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="n">tmp</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">nums</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">];</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="n">nums</span><span class="p">[</span><span class="n">start</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">    <span class="p">}</span></span>
</pre></div>
<h4 id="_23">快排</h4>
<div class="highlight"><pre><span class="code-line"><span class="kt">void</span> <span class="nf">quicksort</span><span class="p">(</span><span class="kt">int</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">quicksort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">pivot</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">quicksort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">pivot</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="kt">void</span> <span class="nf">partition</span><span class="p">(</span><span class="kt">int</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">l</span><span class="p">,</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">r</span><span class="p">];</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">pivot</span><span class="p">)</span> <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]);</span></span>
<span class="code-line">    <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">r</span><span class="p">]);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="n">k</span><span class="p">;</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="c1">//////////// anothor solution</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">partition</span><span class="p">(</span><span class="kt">int</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">l</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">;</span> <span class="p">)</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">r</span><span class="p">])</span> <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="o">++</span><span class="p">]);</span></span>
<span class="code-line">        <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">arr</span><span class="p">[</span><span class="n">r</span><span class="p">])</span> <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="o">--</span><span class="n">p</span><span class="p">]);</span></span>
<span class="code-line">        <span class="k">else</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span></span>
<span class="code-line">    <span class="c1">// move pivots to centre</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="n">r</span><span class="o">-</span><span class="n">p</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">r</span><span class="o">-</span><span class="n">i</span><span class="p">]);</span></span>
<span class="code-line">    <span class="k">return</span> <span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">r</span><span class="o">-</span><span class="n">p</span><span class="o">+</span><span class="n">k</span><span class="p">);</span></span>
<span class="code-line"><span class="p">}</span></span>
<span class="code-line"><span class="kt">void</span> <span class="n">quicksort</span><span class="p">(</span><span class="kt">int</span> <span class="n">arr</span><span class="p">[],</span> <span class="kt">int</span> <span class="n">l</span><span class="p">,</span> <span class="kt">int</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">    <span class="k">if</span> <span class="p">(</span><span class="n">l</span> <span class="o">&lt;</span> <span class="n">r</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">pivot</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">quicksort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">pivot</span><span class="p">.</span><span class="n">first</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">quicksort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">pivot</span><span class="p">.</span><span class="n">second</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">}</span></span>
</pre></div>
<h3 id="_25">动态规划</h3>
<h4 id="decode-ways">decode ways</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">numDecodings</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s">""</span> <span class="o">||</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'0'</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">string</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="s">"10"</span> <span class="o">&lt;=</span> <span class="n">tmp</span> <span class="o">&amp;&amp;</span> <span class="n">tmp</span> <span class="o">&lt;=</span> <span class="s">"26"</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">((</span><span class="n">tmp</span> <span class="o">==</span> <span class="s">"10"</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">==</span> <span class="s">"20"</span><span class="p">))</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">                <span class="k">else</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">'0'</span><span class="p">)</span> <span class="c1">// 27,32</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span> <span class="c1">// 00,30,40,50,60,70,80,90,</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">];</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_26">回文串分割</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">minCut</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// initimate the vecotre</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">i</span><span class="p">);</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">])</span>      <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span><span class="p">]);</span></span>
<span class="code-line">                <span class="k">else</span> <span class="k">break</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span><span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">);</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">])</span>  <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]);</span></span>
<span class="code-line">                <span class="k">else</span> <span class="k">break</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">n</span><span class="p">];</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="distinct-subsequences">Distinct Subsequences</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">numDistinct</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="n">string</span> <span class="n">t</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dp</span><span class="p">(</span><span class="n">m</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span><span class="p">)</span></span>
<span class="code-line">                <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">?</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">:</span> <span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">dp</span><span class="p">[</span><span class="n">m</span><span class="p">];</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_27">最大子数组成积</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">maxProduct</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">nums</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">maxhere</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">minhere</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">maxsofar</span> <span class="o">=</span> <span class="n">INT_MIN</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">maxhere</span><span class="p">,</span> <span class="n">minhere</span><span class="p">);</span> </span>
<span class="code-line">            <span class="n">maxhere</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">maxhere</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="c1">// compare with the now element</span></span>
<span class="code-line">            <span class="n">minhere</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">minhere</span><span class="o">*</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span></span>
<span class="code-line">            <span class="n">maxsofar</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">maxsofar</span><span class="p">,</span> <span class="n">maxhere</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">maxsofar</span><span class="p">;</span>   </span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_29">回溯</h3>
<h4 id="ip">重新存储IP地址</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line"></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">restoreIpAddresses</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">string</span> <span class="n">ans</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span><span class="n">ans</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="n">string</span> <span class="n">s</span><span class="p">,</span> <span class="n">string</span> <span class="n">ans</span><span class="p">,</span><span class="kt">int</span> <span class="n">idx</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">depth</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">((</span><span class="n">depth</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">idx</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()))</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ans</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">ans</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span></span>
<span class="code-line">            <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'0'</span> <span class="o">&amp;&amp;</span> <span class="n">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">idx</span> <span class="o">+</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">string</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">stoi</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">256</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span>                       </span>
<span class="code-line">                <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">ans</span><span class="o">+</span><span class="s">"."</span> <span class="o">+</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">idx</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">else</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span>       </span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="path-sum-ii">Path Sum II</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">pathSum</span><span class="p">(</span><span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sum</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ans</span><span class="p">;</span></span>
<span class="code-line">        <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">ans</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">dfs</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">res</span><span class="p">,</span> <span class="n">TreeNode</span><span class="o">*</span> <span class="n">root</span><span class="p">,</span>  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="n">ans</span><span class="p">,</span><span class="kt">int</span> <span class="n">tmp</span><span class="p">,</span><span class="kt">int</span> <span class="n">sum</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">tmp</span> <span class="o">+=</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">ans</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">val</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="k">if</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">==</span> <span class="n">sum</span><span class="p">)</span></span>
<span class="code-line">                <span class="p">{</span></span>
<span class="code-line">                    <span class="n">res</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">ans</span><span class="p">);</span></span>
<span class="code-line">                    <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">                <span class="p">}</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">)</span>     <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">left</span><span class="p">,</span> <span class="n">ans</span><span class="p">,</span><span class="n">tmp</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">)</span> <span class="n">dfs</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">root</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">,</span> <span class="n">ans</span><span class="p">,</span><span class="n">tmp</span><span class="p">,</span><span class="n">sum</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h3 id="_31">字符串</h3>
<h4 id="_32">最长回文串</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">string</span> <span class="n">longestPalindrome</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">string</span> <span class="n">res</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">expand</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">expand</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">&gt;</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="p">(</span><span class="n">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">end</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">int</span> <span class="n">expand</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">((</span><span class="n">left</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">right</span><span class="o">&lt;</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">right</span><span class="p">]))</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">left</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">right</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">right</span><span class="o">-</span><span class="n">left</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
<span class="code-line"><span class="c1">////// anthor solution</span></span>
<span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="n">string</span> <span class="n">longestPalindrome</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">string</span> <span class="n">T</span><span class="p">;</span><span class="c1">// Transform S to T</span></span>
<span class="code-line">        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">)</span></span>
<span class="code-line">            <span class="n">T</span><span class="o">+=</span><span class="s">"#"</span><span class="o">+</span><span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="n">T</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="sc">'#'</span><span class="p">);</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">P</span><span class="p">(</span><span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// Array to record longest palindrome</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">boundary</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">maxLen</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">resCenter</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">            <span class="kt">int</span> <span class="n">iMirror</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">center</span><span class="o">-</span><span class="n">i</span><span class="p">;</span> <span class="c1">// calc mirror i = center-(i-center)</span></span>
<span class="code-line">            <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="n">boundary</span><span class="o">&gt;</span><span class="n">i</span><span class="p">)</span><span class="o">?</span><span class="n">min</span><span class="p">(</span><span class="n">boundary</span><span class="o">-</span><span class="n">i</span><span class="p">,</span><span class="n">P</span><span class="p">[</span><span class="n">iMirror</span><span class="p">])</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// shortcut</span></span>
<span class="code-line">            <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">T</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span> <span class="c1">// Attempt to expand palindrome centered at i</span></span>
<span class="code-line">                <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">boundary</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// update center and boundary</span></span>
<span class="code-line">                <span class="n">center</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">                <span class="n">boundary</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="k">if</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">maxLen</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// update result</span></span>
<span class="code-line">                <span class="n">maxLen</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">];</span></span>
<span class="code-line">                <span class="n">resCenter</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span>    </span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">s</span><span class="p">.</span><span class="n">substr</span><span class="p">((</span><span class="n">resCenter</span> <span class="o">-</span> <span class="n">maxLen</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">maxLen</span><span class="p">);</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<h4 id="_33">最长包含非重复字符的子串</h4>
<div class="highlight"><pre><span class="code-line">    <span class="kt">int</span> <span class="nf">lengthOfLongestSubstring</span><span class="p">(</span><span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">dic</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span></span>
<span class="code-line">        <span class="n">memset</span><span class="p">(</span><span class="n">dic</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">dic</span><span class="p">));</span></span>
<span class="code-line">        <span class="k">auto</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span><span class="n">dic</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">&gt;=</span> <span class="n">start</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">start</span> <span class="o">=</span> <span class="n">dic</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">            <span class="n">dic</span><span class="p">[</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span></span>
<span class="code-line">            <span class="k">if</span> <span class="p">((</span><span class="n">i</span> <span class="o">-</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span><span class="n">res</span><span class="p">)</span></span>
<span class="code-line">                <span class="n">res</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">        <span class="k">return</span> <span class="n">res</span><span class="p">;</span>        </span>
<span class="code-line">    <span class="p">}</span></span>
</pre></div>
<h4 id="reverse-words-in-a-string">reverse words in a string</h4>
<div class="highlight"><pre><span class="code-line"><span class="k">class</span> <span class="nc">Solution</span> <span class="p">{</span></span>
<span class="code-line"><span class="k">public</span><span class="o">:</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">reverse</span><span class="p">(</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">)</span></span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="n">end</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="kt">char</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">];</span></span>
<span class="code-line">            <span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">];</span></span>
<span class="code-line">            <span class="n">s</span><span class="p">[</span><span class="n">end</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">start</span><span class="o">++</span><span class="p">;</span></span>
<span class="code-line">            <span class="n">end</span><span class="o">--</span><span class="p">;</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line"></span>
<span class="code-line"></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line">    <span class="kt">void</span> <span class="n">reverseWords</span><span class="p">(</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">)</span> </span>
<span class="code-line">    <span class="p">{</span></span>
<span class="code-line">        <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span><span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">            <span class="n">s</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">                <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span></span>
<span class="code-line">            <span class="n">s</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">                    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="n">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">());</span></span>
<span class="code-line"></span>
<span class="code-line">        <span class="kt">int</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span></span>
<span class="code-line">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span></span>
<span class="code-line">        <span class="p">{</span></span>
<span class="code-line">                        <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span><span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">s</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span></span>
<span class="code-line">            <span class="p">}</span> </span>
<span class="code-line">            <span class="k">if</span> <span class="p">(</span> <span class="n">i</span> <span class="o">==</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">||</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">' '</span> <span class="p">)</span></span>
<span class="code-line">            <span class="p">{</span></span>
<span class="code-line">                <span class="n">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span></span>
<span class="code-line">                <span class="n">start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span></span>
<span class="code-line">            <span class="p">}</span></span>
<span class="code-line">        <span class="p">}</span></span>
<span class="code-line">    <span class="p">}</span></span>
<span class="code-line"><span class="p">};</span></span>
</pre></div>
<section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="../../../../../blog/2014/03/18/job_interview/#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'houcj';


    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>                </div>
            </div>
        </div>
    </div>
</div>
</section>
            

            <hr/>

            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
 
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2014-03-18T11:20:00+08:00">3月 18, 2014</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#计算机科学-ref">计算机科学</a> 
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article"> 
                <li><a href="/tags.html#工作-ref">工作
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="https://twitter.com/chaojunhou" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://www.tumblr.com/blog/houcj" title="My Tumblr Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-tumblr sidebar-social-links"></i></a>
    <a href="https://github.com/chaojunhou" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
            <h4>Blogroll</h4>
			<ul ><a class="category-link" href="http://www.rudy-yuan.net">Rudy-yuan</a></ul>
            <ul ><a class="category-link" href="http://www.wengweitao.com">WWT</a></ul>
            <ul ><a class="category-link" href="http://hult.tiddlyspot.com">HULT</a></ul>
       
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
        
            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

<script type="text/javascript">
    var disqus_shortname = 'houcj';

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
    </script>
        <script  language="javascript" type="text/javascript">
            function uncollapse() {
                var hash_str = window.location.hash;
                if (window.location.hash.match(/^#comment-\d+$/))
                {
                    var hash_str = '#disqus_thread';
                }
                $(hash_str).collapse({
                    toggle: true
                    })
            }
        </script>

        <script type="text/javascript" language="JavaScript">
            uncollapse(); 
        </script>
    </body>
      <!-- Baidu Button BEGIN 
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"6","bdPos":"right","bdTop":"250"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
 <!-- Baidu Button END -->
  </body>

  <!-- hitwebcounter Code START -->

<img src="http://hitwebcounter.com/counter/counter.php?page=6046616&style=0005&nbdigits=5&type=ip&initCount=0" title="" Alt=""   border="0" style="float:left">  

</html>